<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="Expires" content="0">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-control" content="no-cache">
<meta http-equiv="Cache" content="no-cache">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" type="text/css"
	href="bootstrap/4.1.3/css/bootstrap.css" />
<link rel="shortcut icon" href="bootstrap/4.1.3/images/favicon.ico">
<link rel="stylesheet" type="text/css" href="css/style.css" />
<title>Detail</title>
</head>

<body>
	<!-- Tag: 编写该detail.html，实现对图片详情的展示，可以加入点赞按钮，可以加入一首与该图片有关联的场景音乐 :)，
		必须加入评论列表，评论数据要存入数据库，必须是登录用户才能评论，根据此要求编写其他所需的代码 -->


	<main class="main mt-3" id="main">
		<div class="container">
			<div class="row">
				<div class="col-sm">
					<h1>{{imageId}}</h1>
					<p>{{image}}</p>
				</div>

			</div>
		</div>
	</main>

	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="js/jquery.slim.min.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="bootstrap/4.1.3/js/bootstrap.js"></script>
	<!-- VUE -->
	<script src="js/vue.js"></script>
	<script src="js/vue-resource.min.js"></script>
	<script src="js/utils.js"></script>
	<script>
		var main = new Vue({
			el : '#main',
			data : {
				imageId : undefined,
				image : undefined
			},
			methods : {
				getImageDetail : function(id) {
					this.$http.get('images?id=' + id).then(function(res) {
						console.log(res.body);
						if (res.body.code == 1000) {
							this.image = res.body.data;
						}
					}, function() {
						console.log('GET image failed.');
					});
				}
			},
			mounted : function() {
				// 获取URL参数中ID的值
				this.imageId = utils.getValueByUrlParams("id");
				this.getImageDetail(this.imageId);
			}
		});
	</script>
</body>
</html>